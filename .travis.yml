language: java
sudo: false
env:
    global:
        #key for github
        - secure: "Sg8L+y9PEm1yIQw48M83eHEivBsk8pC8SxtZxcMSq0AZW1CtY20fK4gxChLiP6A+8aV2YIkelyb3LXRrPFem1pX5J1JTl+jQH9PScIRIvFuSvRvhKI/sjWZV7W0Awp/0NRq47ffF7mCHp+PCDxJFOiMnPbnxq57nFp8iyxNSp0DQ7DfExQOZlxiLoTPE9CgraoLoJZaEv9AxkmanUfyZ/2A9DswWKHlieaHXGXf0OOAP0mF1cCENiq0/iQT/vURNfQ7FFoehhZF+tvEFucm1yDd2VyUxe4e1IkC11YiXLc4lWgzdZPlFz39+48/wAnhmDKb3bkxTd+xhTzkWlNJbExfHMcW5khO4g8jUFc5p1f1CXq3iIXU4LU9c0KZd/4IQSADpPthjYw7OtbmmKH7WUSB7A97CiU1vHCmttqTGbeeGdTzhgcTI3Y5jPDQ/UFagIYV/gdG32K+a70Jdb0w11pXU4lMmKlLLoPQWNyNn/FAnHsp8KtsTPxi18uDrAm+rkiYmDSVPV6aT4O/IK7lXzDV4LZ4LTFTXZn8MrPtRe8fZ/R6q0V+TIQHwYyMkBtGJtxL+n3Ox9AIXeSYl7C5TG/+XbtIxQT6gcpjkkaTSPUhkGcwcRwXqIfhEi5kNjmR4545yIStfqqkIo9k6hIPAssDe8q8G+CvPx5UV2lQoK4A="
        - environment=test
        #sonatype credentials
        #OSSRH_JIRA_USERNAME
        - secure: "LMQpGCtVJGzpgOqNZZBoAKx0xwZuyInGvKLOgLH4VxJLGWxxxXt5LSgnYxo16G0eTckGk+fFMdBW2k8QhhA9uZOOahzq9/myD0nmc3JLOHmOWJcQrLL50UDQzAiYCP4rToF/Q/RWG5bjkc5eZZ7KSeANL1VYM9yyV4+tNPR7UsxAfbUh1+zkDhBeb0Ot35cw/YgO0jn/RFyTZ44mzyl9mf9hfaIk42+urdBfOSkv9XarGjB4WtAYnsryAJ5qoPmnpNJGV4MJCMnxQF4f0U+4fTVS8sBTMaU6Y/3CqhTRXgFoGblzczau5oZbpoyuHT0zUKL1F6gv+VWWAPoU3oVlG/S+IMJW00jBWvpVOKWISKllx6ESRZ563p505JIlUBcmcb0pn6DZ/4+wYED+pIHYHUXxu77C9Pamhov/ESft9Tm3l+XYoBKeWiJ3l1XH+VzotkMA4fojprOGZ4Qe0+VbgeftKaMjocJm8JMzTeod8mDw/grTq9TL3KHCHYv7QzW3p2ChIMPJdD0/Pq3urx9PjUUAmtlwP6OvdEa6zrU8LA0HpRmimgt19PF7go+9thLHzwgMGLGImlRNEzWXIEgbuX/8dewhD217/t+w/DDytzkknttfdwZT9cgNLHL7ymyllE7ISu3PwfuHYQdRPcxLtzbxLrN3h9x8qiP7WCN6D5w="
        #OSSRH_JIRA_PASSWORD
        - secure: "ct0Qy/64atkMVN91Ojhvmx6CY3k7l2EWvkp78gzTf1gK7sQnpaLUcLVQ7XSZqlqrdS7qS8QktwPvhuupj73KXDzM25E6iEQ4xGSmYP3+/0kNkGB0wKErocTchHL5bIrasX47mI6IxzzHxjYcQpaFLkmcwd74PTctS2HVx3mjFA0cZZekg0MLQMGQ8ckaUEkFXQSryF+hEwodkbvcLQ2nAkWoB7eOKfllqkeoGLBLdWnSuUED3mm9ubpKLfRW73SP9fQ8DznTkxEOLZ4j0UphA+OKMS+xqWm/dYoN+nhDsoRt5vzXm3CIVRAXtvOHn+54tAaQsDiYdAeKWjUWOGhPmcPIewx2r9ZZ7epI9fpRYo9Q6BFGZmvWgR3F66tfWKT37tfjZ7Y8+65iGcEziNgBkatd8SHX8udy0/IO5IwxORaY7U6PDEZPhIRGUXAqAcK8TSm3pm85k9yl962Pq1oK/3aqi5mXKFVMYOz4uGLv2skCFq6HEftp+tI/OeLX4rAB2mLpYrxSlmvuBqmEpyAZKGvoKYpk+PJkbne1QGafXV/Ffu5IoOGH9eMqAa/a299lXMwNVod484gTyMYhFebH8sL8VEBheAVPqZwRUD2CVv+gC0mOPkKbrR242zsNakktD/dFV4+9WRyrBzvaZ9K4I3iZO0Y0YRW7yAQu7gOqDWs="
        #signing key
        #GPG_KEY_NAME
        - secure: "PzoMo+67ksRYYGWikUGuowA8Ub3YffcQtfMBcCPFJmLTAmCyyxoZS8XKFidhIFBohIb0hBxkI9v38A33O+gwKa7WesmslPLQJJ0tzzAFfjcL7HttRmZ7eUJ6HNijSctUL0Z81sNAkYhlgYeYcK0BxyVnKp281S8Vaq/msh9GQHiJh5mWAL4iszOS173x4qE5Jgwt8UwMRjARCrs6h2hHfr2asF3Sb5pmAqSjUoC1nQZk2oF2reAaLFC8m54ZxQG8eEXG1C15QS4Dtzstop7CZboqXcPI0jZa8sBoTcLzv2/i9jyg5S2MaqTJ9uKx0HWtCZyuNiFhZGT/4DY1lZoUUV2YVUYKWmnM6oXgUv3qZBHcF9YH3xG9Hv1Wy2/Uc4QaiFPd0mF2eAGdK6A6kJoFwlMf6Ife2FRI6aChoJzRYDnNIaZu74QqF7syPA6i4Ob/HhO//i2dEzjtliIpjb0Sf2UQin2wdmlGlXsbgku5Mc0vLJmQgNqHa/cZNmoyO+Bg4pWjs4YeMHOuoJofHh61B4INEkEMqC5BgJGhmRGZeTDjvob9gexP9euaLsIe7g4u8qc2+j2zqA1kEvHHFtn/o2aSOdU5Xe/CeQ21rT8vWJ4ZcLaQOCwSPl7Rkx3CJOh21aK1+g1FHi2EGbJ/qD4cIvYz2OW9vgKeRr5spqI4x2M="
        #GPG_PASSPHRASE
        - secure: "WnFoUV31468NDojDakgiSwXBiKAODGeFd5lrFxeewCyHrcH+1rYkug3EH2NdODiDpjnH/xfk79gajtovSChbZjbJax41d+juAxs+vqoTVfgdVD9aEWbpP52X8lFRODwvjtII97LG9KkGrdtR3KBgYEOMl0K9DC4BxioLUuUKb9EGB0Iid+O5kyueiEz1DoWV5ipF61F1ew3xacfxqQaF6LtETJs4CeMk9I4kwYzsFk61WoGfR/wWp8uvdYIp5joryn8mV61PlO+C/mNhAV/ibHc/uqPPN95f4JBWJlmzhj12W46LO2z1XIOA0EkHd4gnYCAaZxcG+roN35JpD5TQqkPeMZ8mrhTOrxNxIcJVt9fDsrP7YliA6Ttq5JqkW22+nC4LHfo0xHkJERWKH2fEFEpkiDoIFsUd5gyfbqF438T8lM9n6NiCU7UUXL5sP+SkqgL9tAN5kIlZz1evF7D/+l9S2X4rrXdgefm5/SCG9lDSCIc5Jg3Jmb5O35FfPDa67uA/llZGs1gJfudy0iw/DjJUP4bQcNRvivm2hesreK1r7OlvRlVWpnZ3VB959/R5nyPykrk/pGyW2ZfbufvGQFFNCcKYVteBqJvds7Vcv5M2PPR9FE7J3CX3sIkgzs1Ax9B31vhgJEAA40QbvAgngAPJWBKyRJQqqvqU2EXrNn4="

#if timeout occurs, add travis_wait as in example below:
#script: travis_wait mvn clean jacoco:prepare-agent install jacoco:report site

#add: -Denvironment=test to activate CI profile to publish into gh-pages
script:
  - ./cd/decode.sh
  - travis_wait mvn clean jacoco:prepare-agent install jacoco:report coveralls:report site -Denvironment=test -P !build-extras

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh
